# env-audit

Scan a codebase for environment variables and generate a documented `.env.example`.

## The Problem

Every project has environment variables. Few have documentation. You join a project, clone the repo, and then spend 30 minutes hunting through code to figure out what env vars you need.

env-audit fixes this in one command.

## Quick Start

```bash
# Scan current directory
python env_audit.py

# Scan a specific path
python env_audit.py /path/to/project

# Save to file
python env_audit.py -o .env.example

# Get JSON output (for tooling)
python env_audit.py --json > env-vars.json

# Just show stats
python env_audit.py --stats
```

## What It Does

1. **Scans** your codebase for env var references (Python, Node, Go, Rust, Ruby, Shell, Docker)
2. **Categorizes** them (database, auth, api, cloud, email, etc.)
3. **Generates** a documented `.env.example` with:
   - Descriptions based on variable names
   - Example values
   - File locations where each var is used
   - Notes if already defined in existing `.env` files

## Example Output

```bash
# Environment Variables
# Generated by env-audit

# ==================================================
# DATABASE
# ==================================================

# Database connection string
# Found in: src/db/connect.py, src/models/user.py
DATABASE_URL=postgresql://user:pass@localhost:5432/dbname

# ==================================================
# AUTH
# ==================================================

# JWT signing secret
# Found in: src/auth/jwt.py
JWT_SECRET=your-secret-here

# API key for authentication (already defined)
# Found in: src/api/client.py
API_KEY=your-secret-here
```

## Supported Languages

| Language | Patterns |
|----------|----------|
| Python | `os.environ.get()`, `os.getenv()`, `os.environ[]` |
| Node.js | `process.env.VAR`, `process.env["VAR"]` |
| Go | `os.Getenv()` |
| Rust | `std::env::var()`, `env::var()` |
| Ruby | `ENV[]`, `ENV.fetch()` |
| Shell | `$VAR`, `${VAR}` |
| Docker | `docker-compose.yml`, `Dockerfile` |

## Installation

```bash
# pip (coming soon)
pip install env-audit

# Or just run directly
python env_audit.py /path/to/project
```

## Why This Exists

Saw this pattern across many projects:
- New dev joins â†’ spends hours figuring out env vars
- `.env.example` exists but is outdated
- Code has new env vars not in the template

This tool can be run in CI to catch undocumented env vars.

## License

MIT
